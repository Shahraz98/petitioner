var i=Object.defineProperty;var n=(s,e,t)=>e in s?i(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var o=(s,e,t)=>n(s,typeof e!="symbol"?e+"":e,t);function l(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}class a{constructor(e){o(this,"handleFormSubmit",e=>{e.preventDefault();const t=new FormData(this.formEl);fetch(this.actionPath,{method:"POST",body:t,credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"}}).then(r=>r.json()).then(r=>{r.success?this.showResponseMSG("Thank you!","Your signature has been added!"):this.showResponseMSG("Something went wrong","There was an error submitting your petition. Please try again.")}).catch(r=>{console.error("Error:",r),alert("An unexpected error occurred. Please try again later.")}),this.formEl.reset()});var t,r;this.wrapper=e,this.responseTitle=this.wrapper.querySelector(".petitioner__response > h3"),this.responseText=this.wrapper.querySelector(".petitioner__response > p"),this.formEl=this.wrapper.querySelector("form"),this.formEl&&(this.actionPath=(r=(t=this.formEl)==null?void 0:t.action)!=null?r:"",this.formEl.addEventListener("submit",this.handleFormSubmit))}showResponseMSG(e="Something went wrong",t="Please try again",r=!1){this.wrapper.classList.add("petitioner--submitted"),this.responseTitle.innerText=e,this.responseText.innerText=t}}const h=document.querySelectorAll(".petitioner");for(const s of h)new a(s);export{l as __vite_legacy_guard};
