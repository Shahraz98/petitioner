{"version":3,"file":"petitionerFormBlock.js","mappings":"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","sources":["webpack://petitioner/./src/gutenberg/form/Edit.jsx","webpack://petitioner/external window [\"wp\",\"blockEditor\"]","webpack://petitioner/external window [\"wp\",\"blocks\"]","webpack://petitioner/external window [\"wp\",\"components\"]","webpack://petitioner/external window [\"wp\",\"data\"]","webpack://petitioner/external window [\"wp\",\"i18n\"]","webpack://petitioner/external window [\"wp\",\"serverSideRender\"]","webpack://petitioner/webpack/bootstrap","webpack://petitioner/webpack/runtime/compat get default export","webpack://petitioner/webpack/runtime/define property getters","webpack://petitioner/webpack/runtime/hasOwnProperty shorthand","webpack://petitioner/webpack/runtime/make namespace object","webpack://petitioner/./src/gutenberg/form/index.js"],"sourcesContent":["import { useBlockProps, InspectorControls } from '@wordpress/block-editor';\nimport ServerSideRender from '@wordpress/server-side-render';\nimport { useSelect } from '@wordpress/data';\nimport { Button } from '@wordpress/components';\n\nimport {\n    TextControl,\n    SelectControl, PanelBody\n} from '@wordpress/components';\n\nconst continents = [\n    'Africa',\n    'America',\n    'Antarctica',\n    'Asia',\n    'Europe',\n    'Oceania',\n];\n\nexport default function Edit({ attributes, setAttributes }) {\n    const { formId, newPetitionLink } = attributes;\n    const blockAtts = useBlockProps();\n\n    const allPetitions =\n        useSelect((select) => {\n            return select('core').getEntityRecords(\n                'postType',\n                'petitioner-petition',\n                {\n                    per_page: -1,\n                    _fields: 'title,id',\n                }\n            );\n        }, []) || [];\n\n    const petitionOptions = [];\n\n    allPetitions.forEach((el) => {\n\n        let label = el.title.raw;\n\n        const limit = 40;\n\n        if (label.length > limit) {\n            label = label.substring(0, limit) + '...';\n        }\n\n        const objToPush = { label, value: el.id };\n\n        petitionOptions.push(objToPush);\n    });\n\n    const FinalCompontnt = () => {\n        if (!allPetitions.length) {\n            return <div style={\n                {\n                    padding: '24px',\n                    background: '#efefef'\n                }\n            }>\n                <p> <small>Petitioner form</small></p>\n                <p>Looks like you haven't added any forms yet!</p>\n                <Button variant=\"secondary\" href={newPetitionLink || ''}>\n                    Create your first petition\n                </Button>\n            </div>\n        }\n\n        if (!formId) {\n            return <div style={\n                {\n                    padding: '24px',\n                    background: '#efefef'\n                }\n            }>\n                <p> <small>Petitioner form</small></p>\n                <p>Use the dropdown in the block settings to select your petiton.</p>\n            </div>\n        }\n\n        return <div style={{ pointerEvents: \"none\" }}>\n            <ServerSideRender\n                block=\"petitioner/form\"\n                attributes={attributes}\n            />\n        </div>\n\n    }\n\n    return <div {...blockAtts}>\n        <InspectorControls>\n            <PanelBody>\n                <SelectControl\n                    label=\"Selected Petition\"\n                    value={formId}\n                    options={petitionOptions}\n                    onChange={(el) => setAttributes({ formId: el })\n                    }\n                />\n\n            </PanelBody>\n\n        </InspectorControls>\n\n        <FinalCompontnt />\n\n\n    </div>\n}","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"serverSideRender\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// import Edit from './Edit';\n// // import Save from './Save';\n// const { registerBlockType } = wp.blocks;\n// const { __ } = wp.i18n;\n// // import './style.scss'; // Frontend styles\n// // import './editor.scss'; // Editor styles\n\n// registerBlockType('petitioner/form', {\n//   title: __('Petitioner Form', 'petitioner'),\n//   category: 'widgets',\n//   edit: Edit,\n//   save: () => null\n// });\n\n\nimport { registerBlockType } from '@wordpress/blocks';\nimport { __ } from '@wordpress/i18n';\nimport Edit from './Edit.jsx';\n// import Save from './Save';\n// import './style.scss'; // Include styles if you have them\n\n// Register the block\nregisterBlockType('petitioner/form', {\n  title: __('Petitioner Form', 'petitioner'),\n  icon: 'forms',\n  category: 'widgets',\n  edit: Edit,  // React component for the editor view\n  save: () => null,  // React component for the frontend view\n});"],"names":["useBlockProps","InspectorControls","ServerSideRender","useSelect","Button","TextControl","SelectControl","PanelBody","continents","Edit","_ref","attributes","setAttributes","formId","newPetitionLink","blockAtts","allPetitions","select","getEntityRecords","per_page","_fields","petitionOptions","forEach","el","label","title","raw","limit","length","substring","objToPush","value","id","push","FinalCompontnt","React","createElement","style","padding","background","variant","href","pointerEvents","block","options","onChange","registerBlockType","__","icon","category","edit","save"],"sourceRoot":""}